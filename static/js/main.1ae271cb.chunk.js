(this["webpackJsonpctap-samplecode-generation"]=this["webpackJsonpctap-samplecode-generation"]||[]).push([[0],{121:function(e,t,a){},122:function(e,t,a){},345:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(0),i=a.n(c),r=a(13),s=a.n(r),o=a(29),l=(a(121),a(16)),d=(a(122),a(78)),h=a.n(d),p=a(25),j=a(92),u=a(14),b=a(6),m=a(10),f=a(406),O=a(390),g=a(403),x=a(410),C=a(409),v=a(3),_=a(412),y=a(389),T=a(404),k=a(411),P=a(392),S=a(394),D=a(393),A=a(407),N=a(395),R=a(350),E=a(67),I=a.n(E),w=[{id:Object(f.a)(),stepID:"",stepIDCheck:!1,funcsSettings:[{fid:Object(f.a)(),funcName:"",funcP:"",funcNameCheck:!1}]}],H=[{id:Object(f.a)(),stepNum:1,pipeSegment_srcid:"",pipeSegmentID:"",stepID:"",pipeSegment_srcidCheck:!1,pipeSegmentIDCheck:!1,stepIDCheck:!1,linearSettings:[{id:Object(f.a)(),stepID:"",stepIDCheck:!1,funcsSettings:[{fid:Object(f.a)(),funcName:"",funcP:"",funcNameCheck:!1}]}]}],L=function(e,t){switch(t.type){case"UPDATE":return t.data;default:return e}},F={checkedLinear:!0,checkedBranch:!1,checkedHYDRA:!0,HydraOptionA:!0,HydraOptionB:!1,checkHydraTimeRange:"",checkHydraCleanSeed:"ctap/data/clean_seed",checkOwnHydraDataPath:!1,pipelineName:"",inputdatapath:"ctap/data/test_data",checkOwnDataPath:!1,projectRoot:"",sbj_filt:"",eegType:"",eegChanloc:"",eegReference:"",eegVeogChannelNames:"",eegHeogChannelNames:""},U=Object(c.createContext)(H),B=Object(c.createContext)(w),Y=Object(c.createContext)(F),G=function(e){var t=e.children,a=Object(c.useReducer)(L,w),i=Object(m.a)(a,2),r=i[0],s=i[1],o=Object(c.useReducer)(L,H),l=Object(m.a)(o,2),d=l[0],h=l[1],p=Object(c.useReducer)(L,F),j=Object(m.a)(p,2),u=j[0],b=j[1];return Object(n.jsx)(Y.Provider,{value:[u,b],children:Object(n.jsx)(B.Provider,{value:[r,s],children:Object(n.jsx)(U.Provider,{value:[d,h],children:t})})})},W=a(387),V=Object(W.a)((function(e){return{margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(1)},textField:{width:"25ch"},words:{textAlign:"center"},customWidth:{maxWidth:500}}})),M=["","chanlocs128_biosemi.elp","chanlocs128_biosemi_withEOG.elp","chanlocs128_cent.elp","chanlocs128_pist.elp","chanlocs160_biosemi.elp","chanlocs16_biosemi.elp","chanlocs16_biosemi_withEOG.elp","chanlocs256_biosemi.elp","chanlocs256_biosemi_withEOG.elp","chanlocs32_biosemi.elp","chanlocs64_biosemi.elp","chanlocs64_biosemi_withEOG.elp","channel_locations_acticap_32.ced"],q=a.p+"static/media/CTAP_Linear.cab9b4e3.png",z=a.p+"static/media/CTAP_Branch.4d4e53a9.png",J=a.p+"static/media/CTAP_HYDRA.25f4ccdd.png",$=Object(y.a)(),K="Set clean segment time range [start end] in seconds from test data",Z="Name of the clean seed data file extract from test data, or clean seed data path (if not in default path)",Q="Name a folder which contains outputs of pipes",X="Input path of test data",ee="The root folder name of the current analysis.",te="The unique sequence number in EEG dataset name(sbj_filt)",ae="EEG Data Type, eg, .set/.bdf",ne="Channel Location of testing EEG data ",ce="Reference channel of testing EEG data,  eg, {'L_MASTOID' 'R_MASTOID'}",ie="VEOG Channel Names of testing EEG data, required if performing blinks detection, eg, {'VEOG1','VEOG2'}",re="HEOG Channel Names of testing EEG data, required if performing blinks detection, eg, {'HEOG1','HEOG2'}",se=function(e){var t=e.basicInfoInputCheck,a=e.setBasicInfoInputCheck,i=V(),r=Object(c.useContext)(Y),s=Object(m.a)(r,2),o=s[0],l=s[1],d=Object(c.useState)(o.eegChanloc),h=Object(m.a)(d,2),p=h[0],j=h[1];Object(c.useEffect)((function(){l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),{},{eegChanloc:p})}),a(Object(b.a)(Object(b.a)({},t),{},{eegChanloc:!1}))}),[p]);var f=function(e){var n=e.target,c=n.name,i=n.value;l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),{},Object(u.a)({},c,i))}),a(Object(b.a)(Object(b.a)({},t),{},Object(u.a)({},c,!1)))},g=function(e){var n=e.target,c=n.name,i=n.checked;if("checkedLinear"===c)l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),{},{checkedLinear:i,checkedBranch:!i})});else if("checkedBranch"===c)l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),{},{checkedBranch:i,checkedLinear:!i})});else if("checkOwnDataPath"===c){var r;if(l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),{},Object(u.a)({},c,i))}),!i)a(Object(b.a)(Object(b.a)({},t),{},{inputdatapath:!1})),l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),{},(r={},Object(u.a)(r,c,i),Object(u.a)(r,"inputdatapath","ctap/data/test_data"),r))})}else if("checkOwnHydraDataPath"===c){var s;if(l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),{},Object(u.a)({},c,i))}),!i)a(Object(b.a)(Object(b.a)({},t),{},{checkHydraCleanSeed:!1})),l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),{},(s={},Object(u.a)(s,c,i),Object(u.a)(s,"checkHydraCleanSeed","ctap/data/clean_seed"),s))})}else l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),{},Object(u.a)({},c,i))})},x=function(e){if("checkTimeRange"===e.target.name){var n={};n=Object(b.a)(Object(b.a)({},n),{},{HydraOptionA:e.target.checked,HydraOptionB:!e.target.checked}),e.target.checked&&(n=Object(b.a)(Object(b.a)({},n),{},{checkHydraCleanSeed:"ctap/data/clean_seed"}),a(Object(b.a)(Object(b.a)({},t),{},{checkHydraCleanSeed:"ctap/data/clean_seed"}))),l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),n)})}else{var c={};c=Object(b.a)(Object(b.a)({},c),{},{HydraOptionB:e.target.checked,HydraOptionA:!e.target.checked}),e.target.checked&&(c=Object(b.a)(Object(b.a)({},c),{},{checkHydraTimeRange:""}),a(Object(b.a)(Object(b.a)({},t),{},{checkHydraTimeRange:!1}))),l({type:"UPDATE",data:Object(b.a)(Object(b.a)({},o),c)})}};return Object(n.jsxs)("div",{className:i.root,noValidate:!0,autoComplete:"off",children:[Object(n.jsxs)(O.a,{maxWidth:"md",style:{marginTop:"3rem"},children:[Object(n.jsx)("h4",{children:"What type of pipeline* you would like to generate?"}),Object(n.jsxs)(k.a,{style:{width:750,margin:"0 auto"},children:[Object(n.jsx)(P.a,{expandIcon:Object(n.jsx)(I.a,{}),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header",children:Object(n.jsx)(D.a,{"aria-label":"Acknowledge",onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:Object(n.jsx)(A.a,{checked:o.checkedLinear,onChange:g,name:"checkedLinear"}),label:"Linear Pipeline"})}),Object(n.jsx)(S.a,{children:Object(n.jsx)("img",{src:q,alt:"",width:"700"})})]}),Object(n.jsxs)(k.a,{style:{width:750,margin:"0 auto"},children:[Object(n.jsx)(P.a,{expandIcon:Object(n.jsx)(I.a,{}),"aria-label":"Expand","aria-controls":"additional-actions1-content",id:"additional-actions1-header",children:Object(n.jsx)(D.a,{"aria-label":"Acknowledge",onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:Object(n.jsx)(A.a,{checked:o.checkedBranch,onChange:g,name:"checkedBranch"}),label:"Branch Pipeline"})}),Object(n.jsx)(S.a,{children:Object(n.jsx)("img",{src:z,alt:"",width:"700"})})]}),Object(n.jsx)("h5",{className:i.words,children:"* Click Linear and Brach tabs to see diagrams describe these two different pipelines. "}),Object(n.jsx)("h5",{className:i.words,children:"* linear pipeline using different setpSets to group CTAP functions, the processing sequence depends on setpSets order. Branch pipeline generates sub-functions including predefined executable CTAP functions, which provides a more clear and flexible modular way to group functions. "}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"HYDRA?"}),Object(n.jsxs)(k.a,{style:{width:750,margin:"0 auto"},children:[Object(n.jsx)(P.a,{expandIcon:Object(n.jsx)(I.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",children:Object(n.jsx)(R.a,{className:i.heading,children:"Diagram explanation"})}),Object(n.jsx)(S.a,{children:Object(n.jsx)("img",{src:J,alt:"",width:"700"})})]}),Object(n.jsx)("h5",{className:i.words,children:"* The Handler for sYnthetic Data Repeated Analysis of EEG artifact-detection routines (HYDRA) method is a data-driven approach for EEG preprocessing optimum. The HYDRA generates synthetic EEG data as ground-truth, furnishes a fully automated method to evaluate the artifact detection performance under different parameters by numerical analysis. "}),Object(n.jsx)(D.a,{control:Object(n.jsx)(A.a,{checked:o.checkedHYDRA,onChange:g,name:"checkedHYDRA"}),label:"Implementing HYDRA for artifacts parameter optimization or not?"}),o.checkedHYDRA?Object(n.jsx)("div",{children:Object(n.jsxs)("div",{children:[Object(n.jsx)(D.a,{control:Object(n.jsx)(A.a,{checked:o.HydraOptionA,onChange:x,name:"checkTimeRange"}),label:"Provide clean data time-range"}),Object(n.jsx)(D.a,{control:Object(n.jsx)(A.a,{checked:o.HydraOptionB,onChange:x,name:"checkCleanSeed"}),label:"Provide clean seed data"}),o.HydraOptionA?Object(n.jsx)("div",{children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:K}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{error:t.checkHydraTimeRange,id:"checkHydraTimeRange",name:"checkHydraTimeRange",label:"Time Range",value:o.checkHydraTimeRange,onChange:function(e){return f(e)},type:"text",helperText:t.checkHydraTimeRange?"The field cannot be empty. Please enter a value":null,variant:"outlined"})})}):null,o.HydraOptionB?Object(n.jsxs)("div",{style:{marginTop:"0.8rem"},children:[Object(n.jsx)(D.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),control:Object(n.jsx)(A.a,{checked:o.checkOwnHydraDataPath,onChange:g,name:"checkOwnHydraDataPath"}),label:Object(n.jsx)(R.a,{variant:"body2",children:" Edit your own data input path?"})}),Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:Z}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{disabled:!o.checkOwnHydraDataPath,error:t.checkOwnHydraDataPath,id:"checkHydraCleanSeed",name:"checkHydraCleanSeed",label:"Seed Data Name",value:o.checkHydraCleanSeed,onChange:function(e){return f(e)},type:"text",helperText:t.checkOwnHydraDataPath?"The field cannot be empty. Please enter a value":"Default Input clean seed data source path: ~/ctap/data/clean_seed",variant:"outlined"})})})]}):null]})}):null,Object(n.jsx)("hr",{})]})]}),Object(n.jsxs)("div",{style:{marginTop:"0.8rem"},children:[Object(n.jsx)("h4",{children:"Basic setting begin"}),Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:Q}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{error:t.pipelineName,id:"pipelineName",name:"pipelineName",label:"Pipeline Name",value:o.pipelineName,onChange:function(e){return f(e)},type:"text",helperText:t.pipelineName?"The field cannot be empty. Please enter a value":null,variant:"outlined"})})}),Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:ee}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{error:t.projectRoot,id:"projectRoot",name:"projectRoot",label:"Project Root Folder Name",value:o.projectRoot,onChange:function(e){return f(e)},type:"text",helperText:t.projectRoot?"The field cannot be empty. Please enter a value":null,variant:"outlined"})})})]}),Object(n.jsxs)("div",{style:{marginTop:"0.8rem"},children:[Object(n.jsx)(D.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),control:Object(n.jsx)(A.a,{checked:o.checkOwnDataPath,onChange:g,name:"checkOwnDataPath"}),label:Object(n.jsx)(R.a,{variant:"body2",children:" Edit your own data input path?"})}),Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:X}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{disabled:!o.checkOwnDataPath,error:t.inputdatapath,id:"inputdatapath",name:"inputdatapath",label:"Input Data Path",value:o.inputdatapath,onChange:function(e){return f(e)},type:"text",helperText:t.inputdatapath?"The field cannot be empty. Please enter a value":"Default Input test data source path: ~/ctap/data/test_data",variant:"outlined"})})})]}),Object(n.jsxs)("div",{style:{marginTop:"0.8rem"},children:[Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:ae}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{error:t.eegType,id:"eegType",name:"eegType",label:"EEG Data Type",value:o.eegType,onChange:function(e){return f(e)},type:"text",helperText:t.eegType?"The field cannot be empty. Please enter a value":null,variant:"outlined"})})}),Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:te}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{error:t.sbj_filt,id:"sbj_filt",name:"sbj_filt",label:"EEG File Name Sequence",value:o.sbj_filt,onChange:function(e){return f(e)},type:"text",helperText:t.sbj_filt?"The field cannot be empty. Please enter a value":null,variant:"outlined"})})})]}),Object(n.jsxs)("div",{style:{marginTop:"0.8rem"},children:[Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:ne}),classes:{tooltip:i.customWidth},placement:"top",children:Object(n.jsx)(T.a,{freeSolo:!0,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:o.eegChanloc,onChange:function(e,t){"Add"===JSON.stringify(t).slice(1,5).trim()?j(JSON.stringify(t).slice(7,-3).trim()):j(t)},filterOptions:function(e,t){var a=$(e,t);return""!==t.inputValue&&a.push('Add "'.concat(t.inputValue,'"')),a},id:"controllable-states-demo",options:M,renderInput:function(e){return Object(n.jsx)(_.a,Object(b.a)(Object(b.a)({},e),{},{error:t.eegChanloc,helperText:t.eegChanloc?"The field cannot be empty. Please enter a value":null,label:"EEG Channel Locations File",variant:"outlined"}))}})})}),Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:ce}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{error:t.eegReference,id:"eegReference",name:"eegReference",label:"EEG Data Reference Channel",value:o.eegReference,onChange:function(e){return f(e)},type:"text",helperText:t.eegReference?"The field cannot be empty. Please enter a value":null,variant:"outlined"})})})]}),Object(n.jsxs)("div",{style:{marginTop:"0.8rem"},children:[Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:re}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{error:t.eegHeogChannelNames,id:"eegHeogChannelNames",name:"eegHeogChannelNames",label:"HEOG Channel Names",value:o.eegHeogChannelNames,onChange:function(e){return f(e)},type:"text",helperText:t.eegHeogChannelNames?"The field cannot be empty. Please enter a value":null,variant:"outlined"})})}),Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:ie}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{error:t.eegVeogChannelNames,id:"eegVeogChannelNames",name:"eegVeogChannelNames",label:"VEOG Channel Names",value:o.eegVeogChannelNames,onChange:function(e){return f(e)},type:"text",helperText:t.eegVeogChannelNames?"The field cannot be empty. Please enter a value":null,variant:"outlined"})})})]})]})},oe=function(e){var t=[],a=e.replace(/[^A-Za-z0-9,]/g,"");return(a=a.split(",")).forEach((function(e){var a;a=isNaN(e.trim())&&"true"!==e.trim().toLowerCase()&&"false"!==e.trim().toLowerCase()?"'".concat(e.trim(),"'"):"".concat(e.trim().toLowerCase()),t.push(a)})),t.join(", ")},le=function(e,t){var a=new Array([]),n="",c={},i=new Array([]);if(e.checkedHYDRA){if(a.push("%% HYDRA setting"),a.push("HYDRA = true;"),a.push("PARAM = param_sweep_setup(project_dir);"),a.push("Cfg.HYDRA.ifapply = HYDRA;"),a.push("Cfg.HYDRA.chanloc = '".concat(e.eegChanloc,"';")),a.push("Cfg.HYDRA.FULL_CLEAN_SEED = false;"),e.checkHydraTimeRange&&!e.checkHydraCleanSeed)a.push("Cfg.HYDRA.provide_seed_timerange = true;"),a.push("Cfg.HYDRA.cleanseed_timerange = ".concat(e.checkHydraTimeRange,";"));else if(e.checkHydraCleanSeed&&!e.checkHydraTimeRange)if(a.push("Cfg.HYDRA.provide_seed_timerange = false;"),e.checkOwnHydraDataPath){var r=e.checkHydraCleanSeed.split("/").pop(),s=e.checkHydraCleanSeed.split("/").slice(0,-1).join("/");a.push("Cfg.HYDRA.seed_fname = '".concat(r,"';")),a.push("PARAM.path.seedDataSrc = '".concat(s,"';"))}else a.push("Cfg.HYDRA.seed_fname = ".concat(e.checkHydraCleanSeed,";"));a.push("Cfg.HYDRA.PARAM = PARAM;")}var o="";return o=e.checkOwnDataPath?"data_dir = '".concat(e.inputdatapath,"';"):"data_dir = append(reporoot,'ctap/data/test_data');",t.map((function(e,t){var a,r=new Array([]),s=new Array([]),o="@sbf_"+e.pipeSegmentID+", ";n+=o,0===t?(c[e.pipeSegmentID]={0:"".concat(1,e.stepID),1:""},a=""):(c[e.pipeSegmentID]={0:"".concat(1,e.stepID),1:"".concat(c[e.pipeSegment_srcid][1],e.pipeSegment_srcid,"#")},a="".concat(c[e.pipeSegmentID][1],c[e.pipeSegment_srcid][0])),e.linearSettings.map((function(e,a){var n="";e.funcsSettings.forEach((function(e){n+="@".concat(e.funcName,", ");var t=e.funcName;t&&(t=t.slice(5,t.length)),s.push("   out.".concat(t,"=struct(").concat(oe(e.funcP),");"))})),r.push("   stepSet(".concat(a+1,").id = [num2str(").concat(t+1,"), '").concat(e.stepID,"'];")),r.push("   stepSet(".concat(a+1,").funH{").concat(n,"};"))}));var l=new Array("function [Cfg, out] = pipeSegment_".concat(e.pipeSegmentID,"(Cfg)"),"   %%%%%%%% Define hierarchy %%%%%%%%","   Cfg.id = '".concat(e.pipeSegmentID,"';"),"   Cfg.srcid = {".concat(a,"};"),"   %%%%%%%% Define pipeline %%%%%%%%","   i = 1; %stepSet 1","".concat(r.join("\n")),"".concat([s.join("\n")]),"   Cfg.pipe.runSets = {stepSet(:).id};","   Cfg.pipe.stepSets = stepSet;","end","");i.push("".concat(l.join("\n")))})),n="pipeArr = {".concat(n,"};"),new Array("%% Runtime options for CTAP:","PREPRO = true;","STOP_ON_ERROR = true;","OVERWRITE_OLD_RESULTS = true;","","%% Basic setting","pipeline_name = '".concat(e.pipelineName,"';"),"FILE_ROOT = mfilename('fullpath');","reporoot = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap', 'templates', '".concat(e.projectRoot,"', 'ctap_linear_template')) - 1);"),"project_dir = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap_linear_template')) - 1);","".concat(o),"[Cfg, ~] = sbf_cfg(project_dir, pipeline_name);","Cfg.grfx.on = false;","Cfg.MC = get_meas_cfg_MC(Cfg, data_dir, 'eeg_ext', '*".concat(e.eegType,"', 'sbj_filt', ").concat(e.sbj_filt,");"),"".concat(a.join("\n")),"","%% run pipe","clear Pipe;","".concat(n),"runps = 1:length(pipeArr);","if PREPRO","   CTAP_pipeline_brancher(Cfg, pipeArr, 'runPipes', runps, 'dbg', STOP_ON_ERROR, 'ovw', OVERWRITE_OLD_RESULTS);","end"," ","%% PipeSegments","function [Cfg, out] = sbf_cfg(project_root_folder, ID)","   Cfg.id = ID;","   Cfg.srcid = {''};","   Cfg.env.paths.projectRoot = project_root_folder;","   % Define important directories and files","   Cfg.env.paths.branchSource = '';","   Cfg.env.paths.ctapRoot = fullfile(Cfg.env.paths.projectRoot, Cfg.id);","   Cfg.env.paths.analysisRoot = Cfg.env.paths.ctapRoot;","   Cfg.eeg.chanlocs = '".concat(e.eegChanloc,"';"),"   Cfg.eeg.reference = {".concat(oe(e.eegReference),"};"),"   Cfg.eeg.veogChannelNames = {".concat(oe(e.eegVeogChannelNames),"};"),"   Cfg.eeg.heogChannelNames = {".concat(oe(e.eegHeogChannelNames),"};"),"   out = struct([]);","end","","".concat(i.join("\n")))},de=function(e,t){var a=new Array([]),n=new Array([]),c=new Array([]);if(e.checkedHYDRA){if(c.push("%% HYDRA setting"),c.push("HYDRA = true;"),c.push("PARAM = param_sweep_setup(project_dir);"),c.push("Cfg.HYDRA.ifapply = HYDRA;"),c.push("Cfg.HYDRA.chanloc = '".concat(e.eegChanloc,"';")),c.push("Cfg.HYDRA.FULL_CLEAN_SEED = false;"),e.checkHydraTimeRange&&!e.checkHydraCleanSeed)c.push("Cfg.HYDRA.provide_seed_timerange = true;"),c.push("Cfg.HYDRA.cleanseed_timerange = ".concat(e.checkHydraTimeRange,";"));else if(e.checkHydraCleanSeed&&!e.checkHydraTimeRange)if(c.push("Cfg.HYDRA.provide_seed_timerange = false;"),e.checkOwnHydraDataPath){var i=e.checkHydraCleanSeed.split("/").pop(),r=e.checkHydraCleanSeed.split("/").slice(0,-1).join("/");c.push("Cfg.HYDRA.seed_fname = '".concat(i,"';")),c.push("PARAM.path.seedDataSrc = '".concat(r,"';"))}else c.push("Cfg.HYDRA.seed_fname = ".concat(e.checkHydraCleanSeed,";"));c.push("Cfg.HYDRA.PARAM = PARAM;")}var s="";return s=e.checkOwnDataPath?"data_dir = '".concat(e.inputdatapath,"';"):"data_dir = append(reporoot,'ctap/data/test_data');",t.forEach((function(e,t){var c="";e.funcsSettings.forEach((function(e){c+="@".concat(e.funcName,", ");var t=e.funcName;t&&(t=t.slice(5,t.length)),a.push("out.".concat(t,"=struct(").concat(oe(e.funcP),");"))})),n.push("stepSet(".concat(t+1,").id = [num2str(").concat(t+1,"), '").concat(e.stepID,"'];")),n.push("stepSet(".concat(t+1,").funH{").concat(c,"};"))})),new Array("%% Runtime options for CTAP:","DEBUG = false;","OVERWRITE = true;","","%% Basic setting","pipeline_name = '".concat(e.pipelineName,"';"),"FILE_ROOT = mfilename('fullpath');","reporoot = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap', 'templates', '".concat(e.projectRoot,"', 'ctap_linear_template')) - 1);"),"project_dir = FILE_ROOT(1:strfind(FILE_ROOT, fullfile('ctap_linear_template')) - 1);","".concat(s),"","Cfg.env.paths = cfg_create_paths(project_dir, pipeline_name, {''}, 1);","Cfg.eeg.chanlocs = '".concat(e.eegChanloc,"';"),"Cfg.eeg.reference = {".concat(oe(e.eegReference),"};"),"Cfg.eeg.veogChannelNames = {".concat(oe(e.eegVeogChannelNames),"};"),"Cfg.eeg.heogChannelNames = {".concat(oe(e.eegHeogChannelNames),"};"),"Cfg.grfx.on = false;","Cfg.MC = get_meas_cfg_MC(Cfg, data_dir, 'eeg_ext', '*".concat(e.eegType,"', 'sbj_filt', ").concat(e.sbj_filt,");"),"".concat(c.join("\n")),"","%% Pipeline setting","clear Pipe;","".concat(n.join("\n")),"".concat([a.join("\n")]),"Cfg.pipe.stepSets = stepSet;","Cfg.pipe.runSets = {stepSet(1).id};","Cfg = ctap_auto_config(Cfg, out);"," ","%% Run the pipe","CTAP_pipeline_looper(Cfg, 'debug', DEBUG, 'overwrite', OVERWRITE);","clear i stepSet Filt ctap_args")},he=a(398),pe=a(399),je=a(400),ue=a(408),be=a(66),me=a.n(be),fe=a(5),Oe=a(354),ge=Object(fe.a)({alternativeLabel:{top:10,left:"calc(-50% + 16px)",right:"calc(50% + 16px)"},active:{"& $line":{borderColor:"#784af4"}},completed:{"& $line":{borderColor:"#784af4"}},line:{borderColor:"#eaeaf0",borderTopWidth:3,borderRadius:1}})(Oe.a),xe=Object(W.a)({root:{color:"#eaeaf0",display:"flex",height:22,alignItems:"center"},active:{color:"#784af4"},circle:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:"#784af4",zIndex:1,fontSize:18}}),Ce=Object(W.a)((function(e){return{root:{width:"100%",marginTop:50},button:{marginRight:e.spacing(1),marginBottom:e.spacing(2)},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}}));function ve(e){var t=xe(),a=e.active,c=e.completed;return Object(n.jsx)("div",{className:Object(v.a)(t.root,Object(u.a)({},t.active,a)),children:c?Object(n.jsx)(me.a,{className:t.completed}):Object(n.jsx)("div",{className:t.circle})})}var _e=function(e){var t=e.activeStep,a=(e.handleSubmit,e.handleReset),i=e.handleBack,r=e.handleNext,s=e.isReadyDownload,o=e.downloadLink,l=Ce(),d=["Basic settings","Pipe config","Review and download"],h=Object(c.useContext)(Y),p=Object(m.a)(h,2),j=p[0],u=(p[1],j.pipelineName+".m");return Object(n.jsxs)("div",{className:l.root,children:[Object(n.jsx)("div",{children:t===d.length?Object(n.jsx)("div",{children:s?Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{style:{margin:50},children:Object(n.jsx)(he.a,{download:u,href:o,variant:"outlined",color:"primary",children:"Download"})}),Object(n.jsx)(he.a,{variant:"outlined",color:"secondary",onClick:a,className:l.button,children:"Reset"}),Object(n.jsx)(he.a,{variant:"contained",onClick:i,className:l.button,color:"primary",children:"Back"})]}):null}):Object(n.jsxs)("div",{children:[Object(n.jsx)(he.a,{disabled:0===t,onClick:i,className:l.button,children:"Back"}),Object(n.jsx)(he.a,{variant:"contained",color:"primary",onClick:r,className:l.button,children:t===d.length-1?"Finish and Generate Code":"Next"})]})}),Object(n.jsx)(pe.a,{alternativeLabel:!0,activeStep:t,connector:Object(n.jsx)(ge,{}),children:d.map((function(e){return Object(n.jsx)(je.a,{children:Object(n.jsx)(ue.a,{StepIconComponent:ve,children:e})},e)}))})]})},ye=a(349),Te=a(94),ke=a.n(Te),Pe=a(95),Se=a.n(Pe),De=["","CTAP_blink2event.m","CTAP_check_file_loadable.m","CTAP_clear_results.m","CTAP_clock_start.m","CTAP_clock_stop.m","CTAP_compute_psd.m","CTAP_detect_bad_channels.m","CTAP_detect_bad_comps.m","CTAP_detect_bad_epochs.m","CTAP_detect_bad_segments.m","CTAP_epoch_data.m","CTAP_event_agg.m","CTAP_event_modify.m","CTAP_export_data.m","CTAP_export_psd.m","CTAP_extract_PSDindices.m","CTAP_extract_bandpowers.m","CTAP_extract_dataset_info.m","CTAP_extract_dataset_info2.m","CTAP_extract_erp_features.m","CTAP_extract_signal.m","CTAP_filter_blink_ica.m","CTAP_filter_design.m","CTAP_fir_filter.m","CTAP_fir_notchfilter.m","CTAP_generate_cseg.m","CTAP_generate_cseg_clump.m","CTAP_interp_chan.m","CTAP_load_chanlocs.m","CTAP_load_data.m","CTAP_load_events.m","CTAP_normalize_data.m","CTAP_parse_blocks.m","CTAP_peek_data.m","CTAP_plot_ERP.m","CTAP_reject_data.m","CTAP_reref_data.m","CTAP_resample_data.m","CTAP_run_ica.m","CTAP_select_data.m","CTAP_select_evdata.m","CTAP_tidy_chanlocs.m","export_features_CTAP2.m","CTAP_hydra_badseg.m","CTAP_hydra_blink.m","CTAP_hydra_chan.m","CTAP_hydra_prepare.m"],Ae=function(e){var t=e.ifLinear,a=e.index,r=e.indexm,s=e.funcsSettings,o=e.mid,l=V(),d=Object(c.useContext)(U),h=Object(m.a)(d,2),j=h[0],u=h[1],O=Object(c.useContext)(B),g=Object(m.a)(O,2),x=g[0],y=g[1],k=i.a.useState(null),P=Object(m.a)(k,2),S=(P[0],P[1]),D=Object(c.useState)((function(){return t?x:j[a].linearSettings})),A=Object(m.a)(D,2),E=A[0],I=A[1];Object(c.useEffect)((function(){I(t?x:j[a].linearSettings)}),[x,j]);var w=function(e,n,c){var i=Object(p.a)(E),r=i.findIndex((function(e){return e.id===o})),s=i[r].funcsSettings.map((function(t){return e===t.fid&&(t[n]=c,t[n+"Check"]=!1),t}));if(i[r].funcsSettings=s,t)y({type:"UPDATE",data:i});else{var l=Object(p.a)(j);l[a].linearSettings=i,u({type:"UPDATE",data:l})}};return Object(n.jsx)("div",{className:Object(v.a)(l.margin,l.withoutLabel),children:s.map((function(e,c){return Object(n.jsxs)("div",{children:[Object(n.jsx)(C.a,{className:Object(v.a)(l.margin,l.textField,l.withoutLabel),children:Object(n.jsx)(T.a,{id:"funcName"+c,value:E[r].funcsSettings[c].funcName,onChange:function(t,a){S(a),w(e.fid,"funcName",a)},options:De,renderInput:function(t){return Object(n.jsx)(_.a,Object(b.a)(Object(b.a)({},t),{},{error:e.funcNameCheck,label:"Function Name",variant:"outlined",helperText:e.funcNameCheck?"The field cannot be empty. Please select a function":""}))}})}),Object(n.jsx)(C.a,{className:Object(v.a)(l.margin,l.textField,l.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:"check docs for parameters supported for each func, input in 'pName', p, eg.('method', 'fastica', 'overwrite', true)."}),classes:{tooltip:l.customWidth},children:Object(n.jsx)(_.a,{id:"funcP"+c,name:"funcP",label:"Function Parameters",variant:"outlined",value:E[r].funcsSettings[c].funcP,onChange:function(t){return w(e.fid,t.target.name,t.target.value)}})})}),Object(n.jsx)(C.a,{className:Object(v.a)(l.margin),children:Object(n.jsx)(ye.a,{disabled:1===s.length,onClick:function(){return function(e){var n=Object(p.a)(E),c=n.findIndex((function(e){return e.id===o})),i=n[c].funcsSettings.findIndex((function(t){return t.fid===e}));if(n[c].funcsSettings.splice(i,1),t)y({type:"UPDATE",data:n});else{var r=Object(p.a)(j);r[a].linearSettings=n,u({type:"UPDATE",data:r})}}(e.fid)},children:Object(n.jsx)(ke.a,{})})}),Object(n.jsx)(C.a,{className:Object(v.a)(l.margin),children:Object(n.jsx)(ye.a,{onClick:function(){return function(){var e=Object(p.a)(E),n=e.findIndex((function(e){return e.id===o}));if(e[n].funcsSettings.push({fid:Object(f.a)(),funcName:"",functionP:""}),t)y({type:"UPDATE",data:e});else{var c=Object(p.a)(j);c[a].linearSettings=e,u({type:"UPDATE",data:c})}}()},children:Object(n.jsx)(Se.a,{})})})]},e.fid)}))})},Ne=function(e){var t=e.ifLinear,a=e.index,i=(e.mid,V()),r=Object(c.useContext)(U),s=Object(m.a)(r,2),o=s[0],l=s[1],d=Object(c.useContext)(B),h=Object(m.a)(d,2),p=h[0],j=h[1],u=Object(c.useState)((function(){return t?p:o[a].linearSettings})),b=Object(m.a)(u,2),f=b[0],g=b[1];Object(c.useEffect)((function(){g(t?p:o[a].linearSettings)}),[p,o]);return Object(n.jsx)(O.a,{maxWidth:"md",children:f.map((function(e,c){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("h4",{children:["stepSet ",c+1]}),Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.textField,i.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:"describe main work in this stepSet, eg.'_load'"}),classes:{tooltip:i.customWidth},children:Object(n.jsx)(_.a,{variant:"outlined",error:e.stepIDCheck,name:"stepID",label:"stepID",helperText:e.stepIDCheck?"The field cannot be empty. Please enter a value":null,value:e.stepID,onChange:function(n){return function(e,n){var c=f.map((function(t){return e===t.id&&(t[n.target.name]=n.target.value,t[n.target.name+"Check"]=!1),t}));if(t)j({type:"UPDATE",data:c});else{var i=o;i[a].linearSettings=c,l({type:"UPDATE",data:i})}g(c)}(e.id,n)}})})}),Object(n.jsx)(C.a,{className:Object(v.a)(i.margin,i.withoutLabel),children:Object(n.jsx)(Ae,{ifLinear:t,index:a,indexm:c,mid:e.id,funcsSettings:e.funcsSettings})})]},e.id)}))})},Re="describe main work in this pipeSegment, eg.'_load'",Ee="ID of this pipeSegment, eg.'pipe2'",Ie="Describe the hierarchy relationship between other pipeSegment, you should input [pipeSegment ID] of the previously executed pipe, for example, if the current pipeSegment runs after pipe2, then the input should be pipe2. The first pipeSegment doesn't need this, leave it empty is ok.",we=function(){var e=V(),t=Object(c.useContext)(U),a=Object(m.a)(t,2),i=a[0],r=a[1],s=Object(c.useState)(1),o=Object(m.a)(s,2),l=o[0],d=o[1],h=Object(c.useState)({0:""}),j=Object(m.a)(h,2),y=j[0],T=j[1],k=Object(c.useState)(!1),P=Object(m.a)(k,2),S=P[0],D=P[1];Object(c.useEffect)((function(){i.forEach((function(e){T(Object(b.a)(Object(b.a)({},y),Object(u.a)({},e.id,e.pipeSegmentID)))}))}),[]);var A=function(e,t){var a=t.target,n=a.value,c=a.name,s=i.map((function(t){return e===t.id&&(t[c]=n,t[c+"Check"]=!1,"pipeSegmentID"===c?T(Object(b.a)(Object(b.a)({},y),Object(u.a)({},e,n))):"pipeSegment_srcid"===c&&(Object.values(y).includes(n)?D(!1):D(!0))),t}));r({type:"UPDATE",data:s})};return Object(n.jsx)(O.a,{maxWidth:"md",children:i.map((function(t,a){return Object(n.jsxs)("div",{children:[Object(n.jsxs)("h4",{children:["Pipe-segment ",a+1]}),Object(n.jsx)(C.a,{className:Object(v.a)(e.margin,e.textField,e.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:Re}),classes:{tooltip:e.customWidth},children:Object(n.jsx)(_.a,{error:t.stepIDCheck,name:"stepID",label:"pipeSegment Description Label",variant:"outlined",helperText:t.stepIDCheck?"The field cannot be empty. Please enter a value":null,value:t.stepID,onChange:function(e){return A(t.id,e)}})})}),Object(n.jsx)("h5",{children:"Define hierarchy"}),Object(n.jsx)(C.a,{className:Object(v.a)(e.margin,e.textField,e.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:Ee}),classes:{tooltip:e.customWidth},children:Object(n.jsx)(_.a,{error:t.pipeSegmentIDCheck,name:"pipeSegmentID",label:"pipeSegment ID",variant:"outlined",helperText:t.pipeSegmentIDCheck?"The field cannot be empty. Please enter a value":null,value:t.pipeSegmentID,onChange:function(e){return A(t.id,e)}})})}),Object(n.jsx)(C.a,{className:Object(v.a)(e.margin,e.textField,e.withoutLabel),children:Object(n.jsx)(N.a,{title:Object(n.jsx)(R.a,{variant:"body2",children:Ie}),classes:{tooltip:e.customWidth},children:Object(n.jsx)(_.a,{error:t.pipeSegment_srcidCheck||S,name:"pipeSegment_srcid",label:"pipeSegment Srcid",variant:"outlined",helperText:t.pipeSegment_srcidCheck?"The field cannot be empty. Please enter a value":S?"there is no such pipe":null,value:t.pipeSegment_srcid,onChange:function(e){return A(t.id,e)}})})}),Object(n.jsx)("h5",{children:"Define pipeline"}),Object(n.jsxs)(C.a,{variant:"outlined",className:Object(v.a)(e.margin,e.textField,e.withoutLabel),children:[Object(n.jsxs)(x.a,{children:[" ","stepSet number"]}),Object(n.jsx)(g.a,{native:!0,value:t.stepNum,onChange:function(e){return function(e,t){var a=e.target.value;if(l<a){for(var n=Object(p.a)(i),c=l;c<a;c++)n[t].linearSettings.push({id:Object(f.a)(),stepID:"",stepIDCheck:!1,funcsSettings:[{fid:Object(f.a)(),funcName:"",funcP:"",funcNameCheck:!1}]});n[t].stepNum=a,r({type:"UPDATE",data:n}),d(a)}else if(l>a&&a>=1){for(var s=Object(p.a)(i),o=0;o<l-a;o++)s[t].linearSettings.pop();s[t].stepNum=a,r({type:"UPDATE",data:s}),d(a)}}(e,a)},label:"stepSet number",inputProps:{name:"stepNum"},children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]}),Object(n.jsx)(Ne,{ifLinear:!1,index:a,mid:t.id})]},t.id)}))})},He=a(405),Le=a(401),Fe=Object(W.a)((function(e){return{root:{width:"100%",marginTop:50,textAlign:"left"}}})),Ue=function(e){var t=Fe();return Object(n.jsx)(O.a,{maxWidth:"md",className:t.root,children:Object(n.jsx)(He.a,{language:"matlab",style:Le.a,showLineNumbers:!0,codeTagProps:{style:{fontFamiily:"times new roman"}},children:e.codeString})})},Be=Object(W.a)((function(e){return{formControl:{margin:e.spacing(1),width:"25ch"},selectEmpty:{marginTop:e.spacing(2)},button:{margin:e.spacing(2)},nav:{color:"inherit",textDecoration:"underline",fontStyle:"italic"}}}));function Ye(){var e=Be(),t=Object(c.useContext)(B),a=Object(m.a)(t,2),i=a[0],r=a[1],s=Object(c.useContext)(U),l=Object(m.a)(s,2),d=l[0],v=l[1],_=Object(c.useContext)(Y),y=Object(m.a)(_,2),T=y[0],k=y[1],P=Object(c.useState)(0),S=Object(m.a)(P,2),D=S[0],A=S[1],N=Object(c.useState)(""),R=Object(m.a)(N,2),E=R[0],I=R[1],L=Object(c.useState)(1),G=Object(m.a)(L,2),W=G[0],V=G[1],M=Object(c.useState)(!1),q=Object(m.a)(M,2),z=q[0],J=q[1],$=Object(c.useState)(""),K=Object(m.a)($,2),Z=K[0],Q=K[1],X=Object(c.useReducer)((function(e,t){return Object(b.a)(Object(b.a)({},e),t)}),{checkHydraTimeRange:!1,checkHydraCleanSeed:!1,pipelineName:!1,inputdatapath:!1,projectRoot:!1,sbj_filt:!1,eegType:!1,eegChanloc:!1,eegReference:!1,eegVeogChannelNames:!1,eegHeogChannelNames:!1}),ee=Object(m.a)(X,2),te=ee[0],ae=ee[1],ne=Object(c.useState)((function(){return T.checkedLinear?i:d})),ce=Object(m.a)(ne,2),ie=ce[0],re=ce[1];Object(c.useEffect)((function(){T.checkedLinear?re(i):re(d)}),[i,d]),Object(c.useEffect)((function(){if(V(1),T.checkedLinear){var e=[{id:Object(f.a)(),stepID:"",stepIDCheck:!1,funcsSettings:[{fid:Object(f.a)(),funcName:"",funcP:"",funcNameCheck:!1}]}];r({type:"UPDATE",data:e}),re(e)}else{var t=[{id:Object(f.a)(),stepNum:1,pipeSegment_srcid:"",pipeSegmentID:"",stepID:"",pipeSegment_srcidCheck:!1,pipeSegmentIDCheck:!1,stepIDCheck:!1,linearSettings:[{id:Object(f.a)(),stepID:"",stepIDCheck:!1,funcsSettings:[{fid:Object(f.a)(),funcName:"",funcP:"",funcNameCheck:!1}]}]}];v({type:"UPDATE",data:t}),re(t)}I(""),J(!1)}),[T.checkedLinear]),Object(c.useEffect)((function(){localStorage.getItem("basicInfoInput")&&k({type:"UPDATE",data:JSON.parse(localStorage.getItem("basicInfoInput"))})}),[]),Object(c.useEffect)((function(){localStorage.setItem("basicInfoInput",JSON.stringify(T))}),[T]);var oe=function(e,t){var a;a=e.checkedLinear?de(e,t):le(e,t);var n=new Blob([a.join("\n")],{type:"text/plain"});return Q(a.join("\n")),""!==E&&window.URL.revokeObjectURL(E),window.URL.createObjectURL(n)};function he(){return pe.apply(this,arguments)}function pe(){return(pe=Object(j.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(T,ie);case 2:t=e.sent,I(t),J(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{style:{float:"center",margin:30},children:[Object(n.jsx)(o.c,{className:e.nav,to:"/",children:"Intro Page \u140a"}),Object(n.jsx)("em",{children:"  /  "}),Object(n.jsx)(o.c,{className:e.nav,to:"/start",children:" Info Form \u140a"})]}),Object(n.jsx)("div",{children:0===D?Object(n.jsx)(se,{basicInfoInputCheck:te,setBasicInfoInputCheck:ae}):1===D?Object(n.jsxs)(O.a,{children:[T.checkedLinear?Object(n.jsx)("h3",{children:"Linear Pipeline Setting"}):Object(n.jsx)("h3",{children:"Branch Pipeline Setting"}),Object(n.jsxs)(C.a,{variant:"outlined",className:e.formControl,children:[Object(n.jsxs)(x.a,{children:[" ",T.checkedBranch?"pipeSegments":"stepSet number"]}),Object(n.jsx)(g.a,{native:!0,value:W,onChange:function(e){return function(e){var t=e.target.value;if(W<t){var a=Object(p.a)(ie);if(T.checkedLinear){for(var n=W;n<t;n++)a.push({id:Object(f.a)(),stepID:"",stepIDCheck:!1,funcsSettings:[{fid:Object(f.a)(),funcName:"",funcP:"",funcNameCheck:!1}]});r({type:"UPDATE",data:a}),re(a)}else{for(var c=W;c<t;c++)a.push({id:Object(f.a)(),stepNum:1,pipeSegment_srcid:"",pipeSegmentID:"",stepID:"",pipeSegment_srcidCheck:!1,pipeSegmentIDCheck:!1,stepIDCheck:!1,linearSettings:[{id:Object(f.a)(),stepID:"",stepIDCheck:!1,funcsSettings:[{fid:Object(f.a)(),funcName:"",funcP:"",funcNameCheck:!1}]}]});v({type:"UPDATE",data:a}),re(a)}V(t)}else if(W>t&&t>=1){for(var i=Object(p.a)(ie),s=0;s<W-t;s++)i.pop();T.checkedLinear?(r({type:"UPDATE",data:i}),re(i)):(v({type:"UPDATE",data:i}),re(i)),V(t)}}(e)},label:"stepSet number",inputProps:{name:"stepNum"},children:[1,2,3,4,5,6,7,8,9,10].map((function(e){return Object(n.jsx)("option",{value:e,children:e},e)}))})]}),T.checkedLinear?Object(n.jsx)(Ne,{ifLinear:!0,index:0,mid:0}):Object(n.jsx)(we,{})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h4",{children:"Code Preview"}),z?Object(n.jsx)(Ue,{codeString:Z}):null]})}),Object(n.jsx)(_e,{activeStep:D,handleSubmit:he,handleBack:function(){A(3===D?function(e){return e-2}:function(e){return e-1})},handleNext:function(){if(function(){var e=!0,t={};if(0===D){for(var a=Object(b.a)({},te),n=0,c=Object.keys(a);n<c.length;n++){var i=c[n];null!==T[i]&&0!==T[i].length||(t=T.checkedHYDRA?"checkHydraTimeRange"===i&&T.HydraOptionB||"checkHydraCleanSeed"===i&&T.HydraOptionA?Object(b.a)(Object(b.a)({},t),{},Object(u.a)({},i,!1)):Object(b.a)(Object(b.a)({},t),{},Object(u.a)({},i,!0)):"checkHydraTimeRange"===i||"checkHydraCleanSeed"===i?Object(b.a)(Object(b.a)({},t),{},Object(u.a)({},i,!1)):Object(b.a)(Object(b.a)({},t),{},Object(u.a)({},i,!0)))}e=Object.values(t).every((function(e){return!1===e})),ae(Object(b.a)(Object(b.a)({},te),t))}else if(1===D){var s=ie.map((function(t,a){return t.stepID.length?t.stepIDCheck=!1:(t.stepIDCheck=!0,e=!1),T.checkedBranch?(0===a?(t.pipeSegment_srcidCheck=!1,e=!0,t.pipeSegmentID.length?t.pipeSegmentIDCheck=!1:(t.pipeSegmentIDCheck=!0,e=!1)):(t.pipeSegment_srcid.length?t.pipeSegment_srcidCheck=!1:(t.pipeSegment_srcidCheck=!0,e=!1),t.pipeSegmentID.length?t.pipeSegmentIDCheck=!1:(t.pipeSegmentIDCheck=!0,e=!1)),t.linearSettings.forEach((function(t){t.stepID.length?t.stepIDCheck=!1:(t.stepIDCheck=!0,e=!1),t.funcsSettings.forEach((function(t){null==t.funcName||t.funcName.length?t.funcNameCheck=!1:(t.funcNameCheck=!0,e=!1)}))}))):t.funcsSettings.forEach((function(t){t.funcName.length?t.funcNameCheck=!1:(t.funcNameCheck=!0,e=!1)})),t}));r({type:"UPDATE",data:s})}return e}()){var e=D;A(e+1),1===e&&he()}else alert("check your input")},handleReset:function(){A(0),k({type:"UPDATE",data:F}),v({type:"UPDATE",data:H}),r({type:"UPDATE",data:w})},isReadyDownload:z,downloadLink:E})]})}var Ge=a(402),We=a(348),Ve=Object(W.a)((function(e){return{root:{width:"100%",marginTop:50},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)},nav:{color:"inherit",textDecoration:"underline",fontStyle:"italic"}}})),Me=Object(W.a)({root:{color:"#eaeaf0",display:"flex",height:30,alignItems:"center"},active:{color:"#784af4"},circle:{width:24,height:24,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:"#784af4",zIndex:1,fontSize:24}});function qe(e){var t=Me(),a=e.active,c=e.completed;return Object(n.jsx)("div",{className:Object(v.a)(t.root,Object(u.a)({},t.active,a)),children:c?Object(n.jsx)(me.a,{className:t.completed}):Object(n.jsx)("div",{className:t.circle})})}function ze(e){switch(e){case 0:return Object(n.jsxs)("div",{style:{marginLeft:"2rem",marginTop:"1rem"},children:[Object(n.jsxs)(R.a,{variant:"body1",align:"left",children:["1. Follow the instruction of ",Object(n.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://github.com/bwrc/ctap",children:"the CTAP repo"}),", download CTAP and setup your MATLAB work environment"]}),Object(n.jsxs)(R.a,{variant:"body1",align:"left",children:["2. You also need to have latest EEGLAB added to your Matlab path (",Object(n.jsx)("a",{rel:"noreferrer",target:"_blank",href:"https://sccn.ucsd.edu/eeglab/downloadtoolbox.php",children:"instructions here"}),")."]})]});case 1:return Object(n.jsx)("div",{style:{marginLeft:"2rem",marginTop:"1rem"},children:Object(n.jsxs)(R.a,{variant:"body1",align:"left",children:["Create a new project folder under ",Object(n.jsx)("i",{children:Object(n.jsx)("b",{children:"~/ctap/templates"})})," as execution folder. Later after code generation, put the generated executable .m file into this folder."]})});case 2:return Object(n.jsxs)("div",{style:{marginLeft:"2rem",marginTop:"1rem"},children:[Object(n.jsxs)(R.a,{variant:"body1",align:"left",children:["1. The default data source path is ",Object(n.jsx)("i",{children:Object(n.jsx)("b",{children:"~/ctap/data/test_data"})}),"."]}),Object(n.jsx)(R.a,{variant:"body2",align:"left",children:"You can use defalut path by copying your data into default folder, or you can also define your own data path later"}),Object(n.jsxs)(R.a,{variant:"body1",align:"left",children:["2. CTAP provides various choices on channel location files, you can find them at ",Object(n.jsx)("i",{children:Object(n.jsx)("b",{children:"~/ctap/res"})}),"."]}),Object(n.jsxs)(R.a,{variant:"body2",align:"left",children:["You can also specify your own channel location file, please copy it to  ",Object(n.jsx)("i",{children:Object(n.jsx)("b",{children:"~/ctap/res"})}),", and add its name manually in the later process."]})]});default:return"Unknown step"}}var Je=function(){var e=Ve(),t=i.a.useState(0),a=Object(m.a)(t,2),c=a[0],r=a[1],s=["Get CTAP Ready","Create Execution Folder","Instructions on Required Files"],l=function(){r((function(e){return e+1}))},d=function(){r((function(e){return e-1}))};return Object(n.jsxs)(O.a,{maxWidth:"sm",children:[Object(n.jsxs)("div",{style:{float:"center",margin:30},children:[Object(n.jsx)(o.c,{className:e.nav,to:"/",children:"Intro Page \u140a"}),Object(n.jsx)("i",{children:"  /  "}),Object(n.jsx)(o.c,{className:e.nav,to:"/start",children:" Info Form \u140a"})]}),Object(n.jsx)("div",{style:{marginTop:70},children:Object(n.jsx)(R.a,{variant:"h5",children:"The CTAP Code Generation Tool is used to show users how CTAP code works and some core ideas of CTAP programming."})}),Object(n.jsxs)("div",{className:e.root,children:[Object(n.jsx)(pe.a,{activeStep:c,orientation:"vertical",children:s.map((function(t,a){return Object(n.jsxs)(je.a,{children:[Object(n.jsx)(ue.a,{StepIconComponent:qe,children:Object(n.jsx)(R.a,{variant:"h6",children:t})}),Object(n.jsxs)(Ge.a,{children:[ze(a),Object(n.jsx)("div",{className:e.actionsContainer,children:Object(n.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(n.jsx)(he.a,{disabled:0===c,onClick:d,className:e.button,children:"Back"}),Object(n.jsx)(he.a,{variant:"contained",color:"primary",onClick:l,className:e.button,children:"Next"})]})})]})]},t)}))}),c===s.length&&Object(n.jsxs)(We.a,{square:!0,elevation:0,className:e.resetContainer,children:[Object(n.jsx)(R.a,{variant:"h6",children:"All steps completed - Now Let's step to"}),Object(n.jsx)(R.a,{variant:"h6",children:"CTAP CODE GNERATION!"}),Object(n.jsxs)("div",{style:{marginTop:"1rem"},children:[Object(n.jsx)(he.a,{onClick:function(){r(0)},className:e.button,children:"Reset"}),Object(n.jsx)(he.a,{variant:"contained",color:"primary",className:e.button,children:Object(n.jsx)(o.c,{to:"/start",style:{textDecoration:"none",color:"inherit"},children:"Proceed"})})]})]})]})]})};var $e=function(){return Object(n.jsx)(G,{children:Object(n.jsxs)(o.b,{basename:"/",children:[Object(n.jsx)(R.a,{variant:"h2",align:"center",style:{marginTop:"2rem"},children:"CTAP Code Generation Tool"}),Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:Je}),Object(n.jsx)(l.a,{path:"/start",component:Ye})]})]})})},Ke=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,414)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(o.a,{children:Object(n.jsx)($e,{})}),document.getElementById("root")),Ke()}},[[345,1,2]]]);
//# sourceMappingURL=main.1ae271cb.chunk.js.map